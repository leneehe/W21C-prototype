<!-- Smart Wizard plugin -->
<% content_for :styles do %>
  <%= stylesheet_link_tag 'libs/smartwizard/smartwizard.css', media: 'all' %>
<% end %>
<% content_for :scripts do %>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <%= javascript_include_tag 'libs/smartwizard/smartwizard.js' %>
  <%= javascript_include_tag 'libs/validate/validate.js' %>
  <%= javascript_include_tag 'dashboard/forms_wizard_symptoms.js' %>
<% end %>

<h1>Helping Yourself - Set up Self-tracking</h1>
<div id="symptomsTracking">
  <ul class="card px-4 pt-3 mb-3">
    <li>
      <a href="#symptoms-step-0" class="mb-3">
        <span class="sw-done-icon ion ion-md-checkmark"></span>
        <span class="sw-icon ion ion-ios-play"></span>
        <div class="text-muted small">GETTING STARTED</div>
        Start
      </a>
    </li>
    <li>
      <a href="#symptoms-step-1" class="mb-3">
        <span class="sw-done-icon ion ion-md-checkmark"></span>
        <span class="sw-number">1</span>
        <div class="text-muted small">FIRST STEP</div>
        What to Track
      </a>
    </li>
    <li>
      <a href="#symptoms-step-2" class="mb-3">
        <span class="sw-done-icon ion ion-md-checkmark"></span>
        <span class="sw-number">2</span>
        <div class="text-muted small">SECOND STEP</div>
        Customize
      </a>
    </li>
    <li>
      <a href="#symptoms-step-3" class="mb-3">
        <span class="sw-done-icon ion ion-md-checkmark"></span>
        <span class="sw-number">3</span>
        <div class="text-muted small">SUMMARY</div>
        Summary
      </a>
    </li>
  </ul>

  <div class="mb-3">
    <div id="symptoms-step-0" class="card animated fadeIn">
      <div class="card-body">
        <div class="col-sm-12 col-md-8">
          <p>
            Depending on your chronic care needs, you might need to track diet, carbohydrates, exercise, water intake, weight, mood, blood sugar, blood pressure, or maybe even something else that your doctor recommends. You already have a lot to keep track of in your day-to-day life, so why should you start tracking health things on top of it all?
          </p>
          <p>
            Believe it or not, by tracking specific pieces of information like the ones listed above, either you or your care providers can gain insight into how well your chronic care needs are being addressed. You might even be able to make adjustments to your diet, exercise, activities, or medications that could help you feel even better.
          </p>
          <p>
            To help you figure out what you should track, weâ€™ve created a Tracking Tool with some specially designed visual aids to promote data insights to get you started. Depending on what you need to track, you might also be able to use a smartphone or other devices to get the information you need.
          </p>
        </div>
        <div class="card col-sm-12 col-md-4 mb-4 p-4">
          <%= image_tag("tracking/self-tracking.jpg", class:"img-full")%>
        </div>
      </div>
    </div>
    <div id="symptoms-step-1" class="card animated fadeIn">
      <div class="card-body">
        <% if current_user.conditions != [] %>
          <p>Based on the conditions you listed in your
            <%= link_to "Profile", user_path(current_user) %>
            , the recommended things for you to track are listed below:</p>
          <p>Which ones do you want to track?</p>

          <% @primary_symptoms.each do |symptom| %>
          <div>
            <strong><%= symptom.name %></strong>

          </div>
          <% end %>

          <p>Other things you might want to track are:</p>

          <% @supporting_symptoms.each do |symptom| %>
          <div>
            <strong><%= symptom.name %></strong>
          </div>
          <% end %>

          <p>Want to track something that isn't here?</p>
        <% else %>
          <p>You don't have any conditions added yet to have recommended symptoms.</p>
          <p>Please go to your
          <%= link_to "Profile", user_path(current_user) %> to add the conditions first.</p>
        <% end %>
        - Track a new symptom

      </div>
    </div>
    <div id="symptoms-step-2" class="card animated fadeIn">
      <div class="card-body">
        Step Content 2
      </div>
    </div>
    <div id="symptoms-step-3" class="card animated fadeIn">
      <div class="card-body">
        Step Content 3
      </div>
    </div>
  </div>
</div>

<h2>Track a Symptom</h2>
<%= form_for @new_user_symptom do |form| %>
  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name,
        autofocus: true,
        placeholder: "Symptom",
        class: "form-control",
        required: true
    %>
  </div>

  <%= form.fields_for :symptoms_users do |m| %>
    <div class="form-group">
      <%= m.label :normal_range_upper %>
      <%= m.text_field :normal_range_upper,
          placeholder: "Upper Range",
          class: "form-control",
          required: true
      %>
    </div>
    <div class="form-group">
      <%= m.label :normal_range_lower %>
      <%= m.text_field :normal_range_lower,
          placeholder: "Lower Range",
          class: "form-control",
          required: true
      %>
    </div>
    <div class="form-group">
      <%= m.label :assistance_threshold %>
      <%= m.text_field :assistance_threshold,
          class: "form-control",
          required: true
      %>
    </div>

    <div class="form-group">
      <%= m.label :unit_of_measure %>
      <%= m.text_field :unit_of_measure,
          placeholder: "e.g mL",
          class: "form-control",
          required: true
      %>
    </div>
  <% end %>

  <div class="form-group" style="margin-top: 2rem;">
    <%= form.submit class:"btn btn-outline-primary" %>
  </div>
<% end %>
